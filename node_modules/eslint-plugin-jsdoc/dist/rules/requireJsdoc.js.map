{"version":3,"sources":["../../src/rules/requireJsdoc.js"],"names":["OPTIONS_SCHEMA","additionalProperties","properties","require","default","ArrowFunctionExpression","type","ClassDeclaration","FunctionDeclaration","FunctionExpression","MethodDefinition","getOption","context","key","options","length","hasOwnProperty","getOptions","checkJsDoc","node","jsDocNode","getSourceCode","getJSDocComment","report","messageId","create","parent","value","meta","doc","category","description","recommended","url","messages","missingJsDoc","schema"],"mappings":"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","sourcesContent":["const OPTIONS_SCHEMA = {\n  additionalProperties: false,\n  properties: {\n    require: {\n      additionalProperties: false,\n      default: {},\n      properties: {\n        ArrowFunctionExpression: {\n          default: false,\n          type: 'boolean'\n        },\n        ClassDeclaration: {\n          default: false,\n          type: 'boolean'\n        },\n        FunctionDeclaration: {\n          default: true,\n          type: 'boolean'\n        },\n        FunctionExpression: {\n          default: false,\n          type: 'boolean'\n        },\n        MethodDefinition: {\n          default: false,\n          type: 'boolean'\n        }\n      },\n      type: 'object'\n    }\n  },\n  type: 'object'\n};\n\nconst getOption = (context, key) => {\n  if (!context.options.length) {\n    return OPTIONS_SCHEMA.properties.require.properties[key].default;\n  }\n\n  if (!context.options[0] || !context.options[0].require) {\n    return OPTIONS_SCHEMA.properties.require.properties[key].default;\n  }\n\n  if (!context.options[0].require.hasOwnProperty(key)) {\n    return OPTIONS_SCHEMA.properties.require.properties[key].default;\n  }\n\n  return context.options[0].require[key];\n};\n\nconst getOptions = (context) => {\n  return {\n    ArrowFunctionExpression: getOption(context, 'ArrowFunctionExpression'),\n    ClassDeclaration: getOption(context, 'ClassDeclaration'),\n    FunctionDeclaration: getOption(context, 'FunctionDeclaration'),\n    FunctionExpression: getOption(context, 'FunctionExpression'),\n    MethodDefinition: getOption(context, 'MethodDefinition')\n  };\n};\n\nconst checkJsDoc = (context, node) => {\n  const jsDocNode = context.getSourceCode().getJSDocComment(node);\n\n  if (jsDocNode) {\n    return;\n  }\n\n  context.report({\n    messageId: 'missingJsDoc',\n    node\n  });\n};\n\nexport default {\n  /**\n   * The entrypoint for the JSDoc rule.\n   *\n   * @param {*} context\n   *   a reference to the context which hold all important information\n   *   like settings and the sourcecode to check.\n   * @returns {*}\n   *   a list with parser callback function.\n   */\n  create (context) {\n    const options = getOptions(context);\n\n    return {\n      ArrowFunctionExpression: (node) => {\n        if (!options.ArrowFunctionExpression) {\n          return;\n        }\n\n        if (node.parent.type !== 'VariableDeclarator') {\n          return;\n        }\n\n        checkJsDoc(context, node);\n      },\n\n      ClassDeclaration: (node) => {\n        if (!options.ClassDeclaration) {\n          return;\n        }\n\n        checkJsDoc(context, node);\n      },\n\n      FunctionDeclaration: (node) => {\n        if (!options.FunctionDeclaration) {\n          return;\n        }\n\n        checkJsDoc(context, node);\n      },\n\n      FunctionExpression: (node) => {\n        if (options.MethodDefinition && node.parent.type === 'MethodDefinition') {\n          checkJsDoc(context, node);\n\n          return;\n        }\n\n        if (!options.FunctionExpression) {\n          return;\n        }\n\n        if (node.parent.type === 'VariableDeclarator') {\n          checkJsDoc(context, node);\n        }\n\n        if (node.parent.type === 'Property' && node === node.parent.value) {\n          checkJsDoc(context, node);\n        }\n      }\n    };\n  },\n\n  meta: {\n    doc: {\n      category: 'Stylistic Issues',\n      description: 'Require JSDoc comments',\n      recommended: 'true',\n      url: 'https://github.com/gajus/eslint-plugin-jsdoc'\n    },\n\n    messages: {\n      missingJsDoc: 'Missing JSDoc comment.'\n    },\n\n    schema: [\n      OPTIONS_SCHEMA\n    ],\n\n    type: 'suggestion'\n  }\n};\n"],"file":"requireJsdoc.js"}